!function t(n,e,r){function i(u,s){if(!e[u]){if(!n[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var l=e[u]={exports:{}};n[u][0].call(l.exports,function(t){var e=n[u][1][t];return i(e?e:t)},l,l.exports,t,n,e,r)}return e[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){var r;r=function(){function t(n,e){this.parent=null!=e?e:null,this.id=t.id(),this.nodes=[],n&&this.add(n)}return t.index=0,t.id=function(n){return++t.index},t.IN=0,t.OUT=1,t.prototype.inputs=function(){var t,n,e,r,i,o,u,s,a;for(n=[],s=this.nodes,t=0,r=s.length;r>t;t++)for(o=s[t],a=o.inputs,e=0,i=a.length;i>e;e++)u=a[e],null===u.input&&n.push(u);return n},t.prototype.outputs=function(){var t,n,e,r,i,o,u,s,a;for(u=[],s=this.nodes,t=0,e=s.length;e>t;t++)for(i=s[t],a=i.outputs,n=0,r=a.length;r>n;n++)o=a[n],0===o.output.length&&u.push(o);return u},t.prototype.getIn=function(t){var n;return function(){var e,r,i,o;for(i=this.inputs(),o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.getOut=function(t){var n;return function(){var e,r,i,o;for(i=this.outputs(),o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.add=function(t,n){var e,r,i;{if(!t.length){if(t.graph&&!n)throw new Error("Adding node to two graphs at once");return t.graph=this,this.nodes.push(t)}for(r=0,i=t.length;i>r;r++)e=t[r],this.add(e)}},t.prototype.remove=function(t,n){var e,r,i;{if(!t.length){if(t.graph!==this)throw new Error("Removing node from wrong graph.");return n||t.disconnect(),this.nodes.splice(this.nodes.indexOf(t),1),t.graph=null}for(r=0,i=t.length;i>r;r++)e=t[r],this.remove(e)}},t.prototype.adopt=function(t){var n,e,r;{if(!t.length)return t.graph.remove(t,!0),this.add(t,!0);for(e=0,r=t.length;r>e;e++)n=t[e],this.adopt(n)}},t}(),n.exports=r},{}],2:[function(t,n,e){e.Graph=t("./graph"),e.Node=t("./node"),e.Outlet=t("./outlet"),e.IN=e.Graph.IN,e.OUT=e.Graph.OUT},{"./graph":1,"./node":3,"./outlet":4}],3:[function(t,n,e){var r,i,o;r=t("./graph"),o=t("./outlet"),i=function(){function t(n,e){this.owner=n,this.graph=null,this.inputs=[],this.outputs=[],this.all=[],this.outlets=null,this.id=t.id(),this.setOutlets(e)}return t.index=0,t.id=function(n){return++t.index},t.prototype.getIn=function(t){var n;return function(){var e,r,i,o;for(i=this.inputs,o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.getOut=function(t){var n;return function(){var e,r,i,o;for(i=this.outputs,o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.get=function(t){return this.getIn(t)||this.getOut(t)},t.prototype.setOutlets=function(t){var n,e,r,i,u,s,a,l,c,h,p,f;if(null!=t){if(null==this.outlets){for(this.outlets={},r=0,a=t.length;a>r;r++)p=t[r],p instanceof o||(p=o.make(p)),this._add(p);return}for(e=function(t){return[t.name,t.inout,t.type].join("-")},h={},i=0,l=t.length;l>i;i++)p=t[i],h[e(p)]=!0;f=this.outlets;for(s in f)p=f[s],s=e(p),h[s]?h[s]=p:this._remove(p);for(u=0,c=t.length;c>u;u++)p=t[u],n=h[e(p)],n instanceof o?this._morph(n,p):(p instanceof o||(p=o.make(p)),this._add(p))}return this.outlets},t.prototype.connect=function(t,n,e){var r,i,o,u,s,a,l,c,h,p,f,d,g,m,v,y,_,b,x;for(d={},u={},x=function(t){return b+"/"+t.hint},g=t.inputs,s=0,c=g.length;c>s;s++)r=g[s],(e||!r.input)&&(b=r.type,o=x(r),u[o]||(u[o]=r),d[b]=f=d[b]||[],f.push(r));for(_=this.outputs,_=_.filter(function(t){return!(n&&t.output.length)}),m=_.slice(),a=0,h=m.length;h>a;a++)y=m[a],b=y.type,o=x(y),i=d[b],(r=u[o])&&(y.connect(r),delete u[o],i.splice(i.indexOf(r),1),_.splice(_.indexOf(y),1));if(!_.length)return this;for(v=_.slice(),l=0,p=v.length;p>l;l++)y=v[l],b=y.type,i=d[b],i&&i.length&&y.connect(i.shift());return this},t.prototype.disconnect=function(t){var n,e,r,i,o,u,s;for(u=this.inputs,n=0,r=u.length;r>n;n++)o=u[n],o.disconnect();for(s=this.outputs,e=0,i=s.length;i>e;e++)o=s[e],o.disconnect();return this},t.prototype._key=function(t){return[t.name,t.inout].join("-")},t.prototype._add=function(t){var n;if(n=this._key(t),t.node)throw new Error("Adding outlet to two nodes at once.");if(this.outlets[n])throw new Error("Adding two identical outlets to same node. ("+n+")");return t.node=this,t.inout===r.IN&&this.inputs.push(t),t.inout===r.OUT&&this.outputs.push(t),this.all.push(t),this.outlets[n]=t},t.prototype._morph=function(t,n){var e;return e=this._key(n),delete this.outlets[e],t.morph(n),e=this._key(n),this.outlets[e]=n},t.prototype._remove=function(t){var n,e;if(e=this._key(t),n=t.inout,t.node!==this)throw new Error("Removing outlet from wrong node.");return t.disconnect(),t.node=null,delete this.outlets[e],t.inout===r.IN&&this.inputs.splice(this.inputs.indexOf(t),1),t.inout===r.OUT&&this.outputs.splice(this.outputs.indexOf(t),1),this.all.splice(this.all.indexOf(t),1),this},t}(),n.exports=i},{"./graph":1,"./outlet":4}],4:[function(t,n,e){var r,i;r=t("./graph"),i=function(){function t(n,e,r,i,o,u){this.inout=n,this.name=e,this.hint=r,this.type=i,this.meta=null!=o?o:{},this.id=u,null==this.hint&&(this.hint=t.hint(this.name)),this.node=null,this.input=null,this.output=[],null==this.id&&(this.id=t.id(this.hint))}return t.make=function(n,e){var r,i,o,u;if(null==e&&(e={}),i=e,null!=n.meta){o=n.meta;for(r in o)u=o[r],i[r]=u}return new t(n.inout,n.name,n.hint,n.type,i)},t.index=0,t.id=function(n){return"_io_"+ ++t.index+"_"+n},t.hint=function(t){return t=t.replace(/^_io_[0-9]+_/,""),t=t.replace(/_i_o$/,""),t=t.replace(/(In|Out|Inout|InOut)$/,"")},t.prototype.morph=function(t){return this.inout=t.inout,this.name=t.name,this.hint=t.hint,this.type=t.type,this.meta=t.meta},t.prototype.dupe=function(n){var e;return null==n&&(n=this.id),e=t.make(this),e.name=n,e},t.prototype.connect=function(t){if(this.inout===r.IN&&t.inout===r.OUT)return t.connect(this);if(this.inout!==r.OUT||t.inout!==r.IN)throw new Error("Can only connect out to in.");if(t.input!==this)return t.disconnect(),t.input=this,this.output.push(t)},t.prototype.disconnect=function(t){var n,e,r,i;if(this.input&&this.input.disconnect(this),this.output.length){if(!t){for(i=this.output,n=0,r=i.length;r>n;n++)t=i[n],t.input=null;return this.output=[]}if(e=this.output.indexOf(t),e>=0)return this.output.splice(e,1),t.input=null}},t}(),n.exports=i},{"./graph":1}],5:[function(t,n,e){var r,i,o,u,s,a;i=t("../graph"),s=t("../linker").Program,o=t("../linker").Layout,a=!1,r=function(){function t(){var t;null==this.namespace&&(this.namespace=s.entry()),this.node=new i.Node(this,null!=(t="function"==typeof this.makeOutlets?this.makeOutlets():void 0)?t:{})}return t.previous=function(t){var n;return null!=(n=t.input)?n.node.owner:void 0},t.prototype.refresh=function(){var t;return this.node.setOutlets(null!=(t="function"==typeof this.makeOutlets?this.makeOutlets():void 0)?t:{})},t.prototype.clone=function(){return new t},t.prototype.compile=function(t,n){var e;return e=new s(t,null!=n?n:s.entry(),this.node.graph),this.call(e,0),e.assemble()},t.prototype.link=function(t,n){var e,r;return r=this.compile(t,n),e=new o(t,this.node.graph),this._include(r,e,0),this["export"](e,0),e.link(r)},t.prototype.call=function(t,n){},t.prototype.callback=function(t,n,e,r,i){},t.prototype["export"]=function(t,n){},t.prototype._info=function(t){var n,e,r;return r=null!=(n=null!=(e=this.node.owner.snippet)?e._name:void 0)?n:this.node.owner.namespace,null!=t?r+="."+t:void 0},t.prototype._outlet=function(t,n){var e;return e=i.Outlet.make(t,n),e.meta.def=t,e},t.prototype._call=function(t,n,e){return n.call(this.node,t,e)},t.prototype._require=function(t,n){return n.require(this.node,t)},t.prototype._inputs=function(n,e,r){var i,o,u,s,a,l,c;for(a=n.main.signature,c=[],o=0,u=a.length;u>o;o++)i=a[o],s=this.node.get(i.name),c.push(null!=(l=t.previous(s))?l.call(e,r+1):void 0);return c},t.prototype._callback=function(t,n,e,r,i,o){return n.callback(this.node,t,e,r,i,o)},t.prototype._include=function(t,n,e){return n.include(this.node,t,e)},t.prototype._link=function(n,e,r){var i,o,s,l,c,h,p,f,d,g,m,v;for(a&&console.log("block::_link",this.toString(),n.namespace),d=n.symbols,v=[],s=0,c=d.length;c>s;s++){if(l=d[s],o=n.externals[l],p=this.node.get(o.name),!p)throw new u("External not found on "+this._info(o.name));if(null==p.meta.child){for(g=[p,p,null],h=g[0],f=g[1],i=g[2];!i&&f;)m=[p.meta.parent,f],f=m[0],p=m[1];if(i=t.previous(p),!i)throw new u("Missing connection on "+this._info(o.name));a&&console.log("callback -> ",this.toString(),o.name,p),i.callback(e,r+1,l,o,p.input),v.push(null!=i?i["export"](e,r+1):void 0)}}return v},t.prototype._trace=function(n,e,r){var i,o,u,s,l,c,h;for(a&&console.log("block::_trace",this.toString(),n.namespace),l=n.main.signature,h=[],o=0,u=l.length;u>o;o++)i=l[o],s=this.node.get(i.name),h.push(null!=(c=t.previous(s))?c["export"](e,r+1):void 0);return h},t}(),u=function(t){var n;return n=new Error(t),n.name="OutletError",n},u.prototype=new Error,n.exports=r},{"../graph":25,"../linker":30}],6:[function(t,n,e){var r,i,o=function(t,n){function e(){this.constructor=t}for(var r in n)u.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},u={}.hasOwnProperty;r=t("./block"),i=function(t){function n(t){this.snippet=t,this.namespace=this.snippet.namespace,n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.clone=function(){return new n(this.snippet)},n.prototype.makeOutlets=function(){var t,n,e,r,i,o,u;return r=this.snippet.main.signature,n=this.snippet.externals,u=this.snippet.symbols,o=function(){var t,n,e;for(e=[],t=0,n=r.length;n>t;t++)i=r[t],e.push(this._outlet(i,{callback:!1}));return e}.call(this),t=function(){var t,r,i;for(i=[],t=0,r=u.length;r>t;t++)e=u[t],i.push(this._outlet(n[e],{callback:!0}));return i}.call(this),o.concat(t)},n.prototype.call=function(t,n){return this._call(this.snippet,t,n),this._inputs(this.snippet,t,n)},n.prototype["export"]=function(t,n){return t.visit(this.namespace,n)?(this._link(this.snippet,t,n),this._trace(this.snippet,t,n)):void 0},n}(r),n.exports=i},{"./block":5}],7:[function(t,n,e){var r,i,o,u=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},s={}.hasOwnProperty;o=t("../graph"),r=t("./block"),i=function(t){function n(t){this.graph=t,n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.refresh=function(){return n.__super__.refresh.apply(this,arguments),delete this.subroutine},n.prototype.clone=function(){return new n(this.graph)},n.prototype.makeOutlets=function(){var t,n,e,r,i,u,s,a,l,c,h,p;for(this.make(),a=[],e=[],l=[],t=function(t){return function(t,n){var e,r;return t.meta.callback?t.inout===o.IN?(r=t.dupe(),null==(e=r.meta).child&&(e.child=t),t.meta.parent=r,a.push(r)):void 0:n.push(t.type)}}(this),c=this.graph.inputs(),n=0,i=c.length;i>n;n++)s=c[n],t(s,e);for(h=this.graph.outputs(),r=0,u=h.length;u>r;r++)s=h[r],t(s,l);return e=e.join(","),l=l.join(","),p="("+e+")("+l+")",a.push({name:"callback",type:p,inout:o.OUT,meta:{callback:!0,def:this.subroutine.main}}),a},n.prototype.make=function(){return this.subroutine=this.graph.compile(this.namespace)},n.prototype["export"]=function(t,n){return t.visit(this.namespace,n)?(this._link(this.subroutine,t,n),this.graph["export"](t,n)):void 0},n.prototype.call=function(t,n){return this._require(this.subroutine,t,n)},n.prototype.callback=function(t,n,e,r,i){return this._include(this.subroutine,t,n),this._callback(this.subroutine,t,n,e,r,i)},n}(r),n.exports=i},{"../graph":25,"./block":5}],8:[function(t,n,e){e.Block=t("./block"),e.Call=t("./call"),e.Callback=t("./callback"),e.Isolate=t("./isolate"),e.Join=t("./join")},{"./block":5,"./call":6,"./callback":7,"./isolate":9,"./join":10}],9:[function(t,n,e){var r,i,o,u=function(t,n){function e(){this.constructor=t}for(var r in n)s.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},s={}.hasOwnProperty;i=t("../graph"),r=t("./block"),o=function(t){function n(t){this.graph=t,n.__super__.constructor.apply(this,arguments)}return u(n,t),n.prototype.refresh=function(){return n.__super__.refresh.apply(this,arguments),delete this.subroutine},n.prototype.clone=function(){return new n(this.graph)},n.prototype.makeOutlets=function(){var t,n,e,r,o,u,s,a,l,c,h,p,f,d,g;for(this.make(),c=[],d={},n={},h=["inputs","outputs"],r=0,u=h.length;u>r;r++)for(g=h[r],p=this.graph[g](),o=0,s=p.length;s>o;o++)l=p[o],a=void 0,"return"!==(f=l.hint)&&"callback"!==f||l.inout!==i.OUT||(a=l.hint),null!=d[a]&&(a=void 0),e=l.dupe(a),null==(t=e.meta).child&&(t.child=l),l.meta.parent=e,null!=a&&(d[a]=!0),n[l.name]=e,c.push(e);return c},n.prototype.make=function(){return this.subroutine=this.graph.compile(this.namespace)},n.prototype.call=function(t,n){return this._call(this.subroutine,t,n),this._inputs(this.subroutine,t,n)},n.prototype["export"]=function(t,n){return t.visit(this.namespace,n)?(this._link(this.subroutine,t,n),this._trace(this.subroutine,t,n),this.graph["export"](t,n)):void 0},n.prototype.callback=function(t,n,e,r,i){return i=i.meta.child,i.node.owner.callback(t,n,e,r,i)},n}(r),n.exports=o},{"../graph":25,"./block":5}],10:[function(t,n,e){var r,i,o=function(t,n){function e(){this.constructor=t}for(var r in n)u.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},u={}.hasOwnProperty;r=t("./block"),i=function(t){function n(t){this.nodes=t,n.__super__.constructor.apply(this,arguments)}return o(n,t),n.prototype.clone=function(){return new n(this.nodes)},n.prototype.makeOutlets=function(){return[]},n.prototype.call=function(t,n){var e,r,i,o,u,s;for(u=this.nodes,s=[],r=0,i=u.length;i>r;r++)o=u[r],e=o.owner,s.push(e.call(t,n));return s},n.prototype["export"]=function(t,n){var e,r,i,o,u,s;for(u=this.nodes,s=[],r=0,i=u.length;i>r;r++)o=u[r],e=o.owner,s.push(e["export"](t,n));return s},n}(r),n.exports=i},{"./block":5}],11:[function(t,n,e){var r,i,o;o=t("./queue"),i=t("./hash"),r=function(t){var n,e;return n={},e=o(100),function(r){var o,u;return u=r.length>32?"##"+i(r).toString(16):r,o=e(u),null!=o&&delete n[o],null==n[u]&&(n[u]=t(r)),n[u].clone()}},n.exports=r},{"./hash":13,"./queue":17}],12:[function(t,n,e){var r,i,o,u,s;o=t("../graph").Graph,r=t("../block"),s=t("../visualize"),i=function(){function t(t,n,e){this.language=t,this.fetch=n,this.config=e,this.graph()}return t.prototype.pipe=function(n,e,r,i){return n instanceof t?this._concat(n):null!=n&&this._call(n,e,r,i),this},t.prototype.call=function(t,n,e,r){return this.pipe(t,n,e,r)},t.prototype.require=function(n,e,r,i){return n instanceof t?this._import(n):null!=n&&(this.callback(),this._call(n,e,r,i),this.end()),this},t.prototype["import"]=function(t,n,e,r){return this.require(t,n,e,r)},t.prototype.split=function(){return this._group("_combine",!0),this},t.prototype.fan=function(){return this._group("_combine",!1),this},t.prototype.isolate=function(){return this._group("_isolate"),this},t.prototype.callback=function(){return this._group("_callback"),this},t.prototype.next=function(){return this._next(),this},t.prototype.pass=function(){var t;return t=this._stack[2].end,this.end(),this._state.end=this._state.end.concat(t),this},t.prototype.end=function(){var t,n,e,r;return e=this._exit(),r=e[0],t=e[1],n=r.op,this[n]&&this[n](r,t),this},t.prototype.join=function(){return this.end()},t.prototype.graph=function(){for(var t,n;(null!=(n=this._stack)?n.length:void 0)>1;)this.end();return this._graph&&this._tail(this._state,this._graph),t=this._graph,this._graph=new o,this._state=new u,this._stack=[this._state],t},t.prototype.compile=function(t){return null==t&&(t="main"),this.graph().compile(t)},t.prototype.link=function(t){return null==t&&(t="main"),this.graph().link(t)},t.prototype.serialize=function(){return s.serialize(this._graph)},t.prototype.empty=function(){return 0===this._graph.nodes.length},t.prototype._concat=function(t){var n,e,i;if(0===t._state.nodes.length)return this;this._tail(t._state,t._graph);try{n=new r.Isolate(t._graph)}catch(i){throw e=i,this.config.autoInspect&&s.inspect(e,this._graph,t),e}return this._auto(n),this},t.prototype._import=function(t){var n,e,i;if(0===t._state.nodes.length)throw"Can't import empty callback";this._tail(t._state,t._graph);try{n=new r.Callback(t._graph)}catch(i){throw e=i,this.config.autoInspect&&s.inspect(e,this._graph,t),e}return this._auto(n),this},t.prototype._combine=function(t,n){var e,r,i,o,u,s,a,l;for(s=t.start,r=0,o=s.length;o>r;r++)for(l=s[r],a=n.end,i=0,u=a.length;u>i;i++)e=a[i],e.connect(l,t.multi);return n.end=t.end,n.nodes=n.nodes.concat(t.nodes)},t.prototype._isolate=function(t,n){var e,i,o,u;if(t.nodes.length){u=this._subgraph(t),this._tail(t,u);try{e=new r.Isolate(u)}catch(o){throw i=o,this.config.autoInspect&&s.inspect(i,this._graph,u),i}return this._auto(e)}},t.prototype._callback=function(t,n){var e,i,o,u;if(t.nodes.length){u=this._subgraph(t),this._tail(t,u);try{e=new r.Callback(u)}catch(o){throw i=o,this.config.autoInspect&&s.inspect(i,this._graph,u),i}return this._auto(e)}},t.prototype._call=function(t,n,e,i){var o,u;return u=this.fetch(t),u.bind(this.config,n,e,i),o=new r.Call(u),this._auto(o)},t.prototype._subgraph=function(t){var n;return n=new o(null,this._graph),n.adopt(t.nodes),n},t.prototype._tail=function(t,n){var e;if(e=t.end.concat(t.tail),e=e.filter(function(t,n){return e.indexOf(t)===n}),e.length>1&&(e=new r.Join(e),e=[e.node],this._graph.add(e)),n.tail=e[0],t.end=e,t.tail=[],!n.tail)throw new Error("Cannot finalize empty graph");return n.compile=function(t){return function(e){var r,i;null==e&&(e="main");try{return n.tail.owner.compile(t.language,e)}catch(i){throw r=i,t.config.autoInspect&&n.inspect(r),r}}}(this),n.link=function(t){return function(e){var r,i;null==e&&(e="main");try{return n.tail.owner.link(t.language,e)}catch(i){throw r=i,t.config.autoInspect&&n.inspect(r),r}}}(this),n["export"]=function(t){return function(t,e){return n.tail.owner["export"](t,e)}}(this),n.inspect=function(t){return null==t&&(t=null),s.inspect(t,n)}},t.prototype._group=function(t,n){return this._push(t,n),this._push(),this},t.prototype._next=function(){var t;return t=this._pop(),this._state.start=this._state.start.concat(t.start),this._state.end=this._state.end.concat(t.end),this._state.nodes=this._state.nodes.concat(t.nodes),this._state.tail=this._state.tail.concat(t.tail),this._push()},t.prototype._exit=function(){return this._next(),this._pop(),[this._pop(),this._state]},t.prototype._push=function(t,n){return this._stack.unshift(new u(t,n)),this._state=this._stack[0]},t.prototype._pop=function(){var t;return this._state=this._stack[1],null==this._state&&(this._state=new u),null!=(t=this._stack.shift())?t:new u},t.prototype._auto=function(t){return t.node.inputs.length?this._append(t):this._insert(t)},t.prototype._append=function(t){var n,e,r,i,o;for(i=t.node,this._graph.add(i),o=this._state.end,e=0,r=o.length;r>e;e++)n=o[e],n.connect(i);return this._state.start.length||(this._state.start=[i]),this._state.end=[i],this._state.nodes.push(i),i.outputs.length?void 0:this._state.tail.push(i)},t.prototype._prepend=function(t){var n,e,r,i,o;for(r=t.node,this._graph.add(r),i=this._state.start,n=0,e=i.length;e>n;n++)o=i[n],r.connect(o);return this._state.end.length||(this._state.end=[r]),this._state.start=[r],this._state.nodes.push(r),r.outputs.length?void 0:this._state.tail.push(r)},t.prototype._insert=function(t){var n;return n=t.node,this._graph.add(n),this._state.start.push(n),this._state.end.push(n),this._state.nodes.push(n),n.outputs.length?void 0:this._state.tail.push(n)},t}(),u=function(){function t(t,n,e,r,i,o){this.op=null!=t?t:null,this.multi=null!=n?n:!1,this.start=null!=e?e:[],this.end=null!=r?r:[],this.nodes=null!=i?i:[],this.tail=null!=o?o:[]}return t}(),n.exports=i},{"../block":8,"../graph":25,"../visualize":36}],13:[function(t,n,e){var r,i,o,u,s,a,l,c;r=3432918353,i=461845907,o=3864292196,u=2246822507,s=3266489909,l=function(t,n){var e,r,i,o;return e=t>>>16&65535,r=65535&t,i=n>>>16&65535,o=65535&n,r*o+(e*o+r*i<<16>>>0)|0},null!=Math.imul&&(c=Math.imul(4294967295,5),-5===c&&(l=Math.imul)),a=function(t){var n,e,a,c,h,p;for(h=t.length,c=Math.floor(h/2),a=n=0,p=function(){return t.charCodeAt(a++)},e=function(t,e){var u;return u=t|e<<16,u^=u<<9,u=l(u,r),u=u<<15|u>>>17,u=l(u,i),n^=u,n=n<<13|n>>>19,n=l(n,5),n=n+o|0};c--;)e(p(),p());return 1&h&&e(p(),0),n^=h,n^=n>>>16,n=l(n,u),n^=n>>>13,n=l(n,s),n^=n>>>16},n.exports=a},{}],14:[function(t,n,e){e.Factory=t("./factory"),e.Material=t("./material"),e.library=t("./library"),e.cache=t("./cache"),e.queue=t("./queue"),e.hash=t("./hash")},{"./cache":11,"./factory":12,"./hash":13,"./library":15,"./material":16,"./queue":17}],15:[function(t,n,e){var r;r=function(t,n,e){var r,i,o,u;return r=null,u={},null!=n&&("function"==typeof n?r=function(r){return e(t,r,n(r))}:"object"==typeof n&&(r=function(r){if(null==n[r])throw new Error("Unknown snippet `"+r+"`");return e(t,r,n[r])})),o=function(n){return e(t,"",n)},null==r?o:(i=function(t){return t.match(/[{;]/)?o(t):(u[t]=!0,r(t))},i.used=function(t){return null==t&&(t=u),u=t},i)},n.exports=r},{}],16:[function(t,n,e){var r,i,o,u;o=!1,i=t("../visualize"),u=function(){var t;return t=+new Date,function(n){var e;return e=+new Date-t,console.log(n,e+" ms"),e}},r=function(){function t(t,n){this.vertex=t,this.fragment=n,o&&(this.tock=u())}return t.prototype.build=function(t){return this.link(t)},t.prototype.link=function(t){var n,e,r,u,s,a,l,c,h,p,f,d,g,m;for(null==t&&(t={}),f={},g={},n={},m=this.vertex.link("main"),e=this.fragment.link("main"),a=[m,e],r=0,s=a.length;s>r;r++){p=a[r],l=p.uniforms;for(u in l)d=l[u],f[u]=d;c=p.varyings;for(u in c)d=c[u],g[u]=d;h=p.attributes;for(u in h)d=h[u],n[u]=d}return t.vertexShader=m.code,t.vertexGraph=m.graph,t.fragmentShader=e.code,t.fragmentGraph=e.graph,t.attributes=n,t.uniforms=f,t.varyings=g,t.inspect=function(){return i.inspect("Vertex Shader",m,"Fragment Shader",e.graph)},o&&this.tock("Material build"),t},t.prototype.inspect=function(){return i.inspect("Vertex Shader",this.vertex,"Fragment Shader",this.fragment.graph)},t}(),n.exports=r},{"../visualize":36}],17:[function(t,n,e){var r;r=function(t){var n,e,r,i,o,u;return null==t&&(t=100),i={},r=null,u=null,e=0,n=function(t){return t.prev=null,t.next=r,null!=r&&(r.prev=t),r=t,null==u?u=t:void 0},o=function(t){var n,e;return e=t.prev,n=t.next,null!=e&&(e.next=n),null!=n&&(n.prev=e),r===t&&(r=n),u===t?u=e:void 0},function(s){var a,l;return(l=i[s]&&l!==r)?(o(l),n(l)):(e===t?(a=u.key,o(u),delete i[a]):e++,l={next:r,prev:null,key:s},n(l),i[s]=l),a}},n.exports=r},{}],18:[function(t,n,e){var r,i,o,u;r=function(t){var n,e,r,u,s;return e=t.ast,r=t.code,s=t.signatures,u=i(s),n=o(r,u),[s,n]},u=function(){var t;return t=+new Date,function(n){var e;return e=+new Date-t,console.log(n,e+" ms"),e}},i=function(t){var n,e,r,i,o,u,s,a,l,c;for(u={},l=function(t){return u[t.name]=!0},l(t.main),s=["external","internal","varying","uniform","attribute"],n=0,i=s.length;i>n;n++)for(r=s[n],a=t[r],e=0,o=a.length;o>e;e++)c=a[e],l(c);return u},o=function(t,n){var e,r;return r=new RegExp("\\b("+function(){var t;t=[];for(e in n)t.push(e);return t}().join("|")+")\\b","g"),t=t.replace(/\/\/[^\n]*/g,""),t=t.replace(/\/\*([^*]|\*[^\/])*\*\//g,""),function(i,o,u){var s,a,l,c;null==i&&(i=""),null==o&&(o={}),null==u&&(u={}),l={};for(e in n)l[e]=null!=o[e]?e:i+e;return s=t.replace(r,function(t){return l[t]}),a=function(){var t;t=[];for(e in u)c=u[e],t.push("#define "+e+" "+c);return t}(),a.length&&a.push(""),a.join("\n")+s}},n.exports=r},{}],19:[function(t,n,e){n.exports={SHADOW_ARG:"_i_o",RETURN_ARG:"return"}},{}],20:[function(t,n,e){var r,i,o,u,s,a,l;n.exports=i={},i["in"]=0,i.out=1,i.inout=2,u=function(t){return t.token.data},i.node=function(t){var n,e;return"function"===(null!=(n=t.children[5])?n.type:void 0)?i["function"](t):"keyword"===(null!=(e=t.token)?e.type:void 0)?i.external(t):void 0},i.external=function(t){var n,e,r,i,o,s,a,l,c,h,p,f,d;for(n=t.children,p=u(n[1]),f=u(n[3]),d=u(n[4]),s=n[5],"attribute"!==p&&"uniform"!==p&&"varying"!==p&&(p="global"),l=[],h=s.children,e=i=0,o=h.length;o>i;e=++i)n=h[e],"ident"===n.type&&(r=u(n),a=s.children[e+1],c="quantifier"===(null!=a?a.type:void 0),l.push({decl:"external",storage:p,type:d,ident:r,quant:!!c,count:c}));return l},i["function"]=function(t){var n,e,r,o,s,a,l,c,h,p;return r=t.children,c=u(r[1]),h=u(r[3]),p=u(r[4]),a=r[5],l=u(a.children[0]),n=a.children[1],e=a.children[2],s=function(){var t,e,r,u;for(r=n.children,u=[],t=0,e=r.length;e>t;t++)o=r[t],u.push(i.argument(o));return u}(),[{decl:"function",storage:c,type:p,ident:l,body:!!e,args:s}]},i.argument=function(t){var n,e,r,i,o,s,a,l;return n=t.children,a=u(n[1]),i=u(n[2]),l=u(n[4]),o=n[5],r=u(o.children[0]),s=o.children[1],e=s?s.children[0].token.data:void 0,{decl:"argument",storage:a,inout:i,type:l,ident:r,quant:!!s,count:e}},i.param=function(t,n,e,r,o){var u,s,a;return s=[],null!=n&&s.push(n),null!=e&&s.push(e),s.push(""),s=s.join(" "),a=r?"["+o+"]":"",""!==t&&(t+=" "),u=function(n,e){return(e?t:"")+(""+s+n+a)},u.split=function(t){return i.param(t,n,e,r,o)},u},l="undefined"!=typeof window,a=l&&!!window.THREE,o={"int":0,"float":0,vec2:a?THREE.Vector2:null,vec3:a?THREE.Vector3:null,vec4:a?THREE.Vector4:null,mat2:null,mat3:a?THREE.Matrix3:null,mat4:a?THREE.Matrix4:null,sampler2D:0,samplerCube:0},s={"int":"i","float":"f",vec2:"v2",vec3:"v3",vec4:"v4",mat2:"m2",mat3:"m3",mat4:"m4",sampler2D:"t",samplerCube:"t"},i.type=function(t,n,e,u,a,l){var c,h,p,f,d,g,m;return c={"in":i["in"],out:i.out,inout:i.inout},d={"const":"const"},g=s[n],e&&(g+="v"),m=o[n],(null!=m?m.call:void 0)&&(m=new m),e&&(m=[m]),h=null!=(f=c[a])?f:c["in"],l=d[l],p=i.param(a,l,n,e,u),new r(t,g,n,p,m,h)},r=function(){function t(t,n,e,r,i,o,u){this.name=t,this.type=n,this.spec=e,this.param=r,this.value=i,this.inout=o,this.meta=u}return t.prototype.split=function(){var n,e,r,o;return r=null!=this.meta.shadowed,n=r?"in":"out",e=r?i["in"]:i.out,o=this.param.split(n),new t(this.name,this.type,this.spec,o,this.value,e)},t.prototype.copy=function(n,e){var r;return r=new t(null!=n?n:this.name,this.type,this.spec,this.param,this.value,this.inout,e)},t}()},{}],21:[function(t,n,e){var r,i,o;i=t("../graph"),r=t("./constants"),n.exports=o={unshadow:function(t){var n;return n=t.replace(r.SHADOW_ARG,""),n!==t?n:null},lines:function(t){return t.join("\n")},list:function(t){return t.join(", ")},statements:function(t){return t.join(";\n")},body:function(t){return{entry:t,type:"void",params:[],signature:[],"return":"",vars:{},calls:[],post:[],chain:{}}},define:function(t,n){return"#define "+t+" "+n},"function":function(t,n,e,r,i){return t+" "+n+"("+e+") {\n"+r+i+"}"},invoke:function(t,n,e){return t=t?t+" = ":"",e=o.list(e),"  "+t+n+"("+e+")"},same:function(t,n){var e,i,o,u,s;for(o=u=0,s=t.length;s>u;o=++u){if(e=t[o],i=n[o],!i)return!1;if(e.type!==i.type)return!1;if(e.name===r.RETURN_ARG!=(i.name===r.RETURN_ARG))return!1}return!0},call:function(t,n,e,i,u){var s,a,l,c,h,p,f,d,g,m,v,y,_,b,x,k,w,M;for(a=[],k="",w=1,f=0,d=i.length;d>f;f++){if(s=i[f],m=s.name,l=c=t(m),_=null,g=null,v=!1,h=s.inout,p=m===r.RETURN_ARG,(M=null!=(b=s.meta)?b.shadowed:void 0)&&(_=t(M),_&&(u.vars[_]="  "+s.param(_),u.calls.push("  "+_+" = "+c),n(M)?g={shadowed:_}:s=s.split())),(M=null!=(x=s.meta)?x.shadow:void 0)&&(_=t(M))){if(n(M)){g={shadow:_};continue}s=s.split(),v=!0}p?k=c:v||a.push(null!=_?_:c),n(m)?(y="push",p?""===u["return"]?(y="unshift",l=m,u.type=s.spec,u["return"]="  return "+c,u.vars[c]="  "+s.param(c)):(u.vars[c]="  "+s.param(c),u.params.push(s.param(c,!0))):u.params.push(s.param(c,!0)),s=s.copy(l,g),u.signature[y](s)):u.vars[c]="  "+s.param(c)}return u.calls.push(o.invoke(k,e,a))},build:function(t,n){var e,r,i,u,s,a,l,c,h,p,f;return s=t.entry,i=null,n&&1===n.length&&"main"!==s&&(e=t,r=n[0].module,o.same(t.signature,r.main.signature)&&(i=o.define(s,r.entry))),null==i&&(f=function(){var n,e;n=t.vars,e=[];for(p in n)u=n[p],e.push(u);return e}(),n=t.calls,l=t.post,a=t.params,h=t.type,c=t["return"],n=n.concat(l),""!==c&&n.push(c),n.push(""),f.length?(f.push(""),f=o.statements(f)+"\n"):f="",n=o.statements(n),a=o.list(a),i=o["function"](h,s,a,f,n)),{signature:t.signature,code:i,name:s}},links:function(t){var n,e,r,i;for(i={defs:[],bodies:[]},n=0,r=t.length;r>n;n++)e=t[n],o.link(e,i);return i.defs=o.lines(i.defs),i.bodies=o.statements(i.bodies),""===i.defs&&delete i.defs,""===i.bodies&&delete i.bodies,i},link:function(t){return function(t,n){var e,u,s,a,l,c,h,p,f,d,g,m,v,y,_,b,x,k,w,M,O,C,T,E;if(_=t.module,x=t.name,c=t.external,v=_.main,l=_.entry,o.same(v.signature,c.signature))return n.defs.push(o.define(x,l));for(p=[],M=[],y={},T=[_.namespace,r.RETURN_ARG].join(""),O=c.signature,f=0,d=O.length;d>f;f++)a=O[f],m=a.inout===i.IN?p:M,m.push(a);for(C=v.signature,b=0,g=C.length;g>b;b++)a=C[b],m=a.inout===i.IN?p:M,k=m.shift(),s=k.name,s===r.RETURN_ARG&&(s=T),y[a.name]=s;return u=function(t){return y[t]},e=function(){return!0},h=o.body(),o.call(u,e,l,v.signature,h),h.entry=l,y={"return":T},u=function(t){var n;return null!=(n=y[t])?n:t},w=o.body(),E=o.call(u,e,l,c.signature,w),w.calls=h.calls,w.entry=x,n.bodies.push(o.build(h).code.split(" {")[0]),n.bodies.push(o.build(w).code)}}(this),defuse:function(t){var n,e,r,i,o,u,s,a,l,c,h,p,f,d,g;for(f=/([A-Za-z0-9_]+\s+)?[A-Za-z0-9_]+\s+[A-Za-z0-9_]+\s*\([^)]*\)\s*;\s*/gm,g=function(t){return t.replace(f,function(t){return""})},e=t.split(/(?=[{}])/g),c=0,o=s=0,a=e.length;a>s;o=++s){switch(n=e[o],n[0]){case"{":c++;break;case"}":c--}if(0===c){for(r=n.split(/^[ \t]*#/m),u=p=0,l=r.length;l>p;u=++p)h=r[u],u>0?(h=h.split(/\n/),i=h.shift(),d=h.join("\n"),r[u]=[i,g(d)].join("\n")):r[u]=g(h);e[o]=r.join("#")}}return t=e.join("")},dedupe:function(t){var n,e;return n={},e=/((attribute|uniform|varying)\s+)[A-Za-z0-9_]+\s+([A-Za-z0-9_]+)\s*(\[[^\]]*\]\s*)?;\s*/gm,t.replace(e,function(t,e,r,i,o){return n[i]?"":(n[i]=!0,t)})},hoist:function(t){var n,e,r,i,o,u,s,a;for(a=/^#define ([^ ]+ _pg_[0-9]+_|_pg_[0-9]+_ [^ ]+)$/,o=t.split(/\n/g),n=[],s=[],e=0,r=o.length;r>e;e++)i=o[e],u=i.match(a)?n:s,u.push(i);return n.concat(s).join("\n")}}},{"../graph":25,"./constants":19}],22:[function(t,n,e){var r,i,o,u,s;for(e.compile=t("./compile"),e.parse=t("./parse"),e.generate=t("./generate"),u=t("./constants"),s=r=0,o=u.length;o>r;s=++r)i=u[s],e[i]=s},{"./compile":18,"./constants":19,"./generate":21,"./parse":23}],23:[function(t,n,e){var r,i,o,u,s,a,l,c,h,p,f,d,g,m;g=t("../../vendor/glsl-tokenizer"),h=t("../../vendor/glsl-parser"),u=t("./decl"),r=t("./constants"),o=!1,l=function(t,n){var e,r;return e=c(t,n),r=p(e,n)},c=function(t,n){var e,r,i,u,s,a,l,c,p,f,m;o&&(m=d());try{p=g().process(h(),n),f=p[0],e=f[0],s=p[1]}catch(u){r=u,s=[{message:r}]}if(o&&m("GLSL Tokenize & Parse"),a=function(t){var n,e;return t=t.split("\n"),n=(""+t.length).length,e=function(t){return(t=""+t).length<n?("       "+t).slice(-n):t},t.map(function(t,n){return e(n+1)+": "+t}).join("\n")},!e||s.length){for(t||(t="(inline code)"),console.warn(a(n)),l=0,c=s.length;c>l;l++)i=s[l],console.error(t+" -",i.message);throw new Error("GLSL parse error")}return e},p=function(t,n){var e,r,u,l,c,h,p;return o&&(p=d()),h=[],m(a,i(h),t,""),l=f(h),u=l[0],r=l[1],e=l[2],c=s(u,r,e),o&&p("GLSL AST"),{ast:t,code:n,signatures:c}},a=function(t,n){switch(t.type){case"decl":return n(u.node(t)),!1}return!0},i=function(t){return function(n){var e,r,i,o;if(null!=n){for(o=[],e=0,r=n.length;r>e;e++)i=n[e],o.push(t.push(i));return o}}},f=function(t){var n,e,r,i,o,u,s,a,l;for(s=null,i=[],e=[],a={},r=!1,o=0,u=t.length;u>o;o++)l=t[o],l.body?(a[l.ident]&&(e=function(){var t,r,i;for(i=[],t=0,r=e.length;r>t;t++)n=e[t],n.ident!==l.ident&&i.push(n);return i}(),delete a[l.ident]),i.push(l),"main"===l.ident?(s=l,r=!0):r||(s=l)):"global"===l.storage?i.push(l):(e.push(l),a[l.ident]=!0);return[s,i,e];
},s=function(t,n,e){var i,o,s,a,l,c,h,p,f;for(p={uniform:[],attribute:[],varying:[],external:[],internal:[],global:[],main:null},o=function(t){return u.type(t.ident,t.type,t.quant,t.count,t.inout,t.storage)},s=function(t,n){var e,i,s,a,l,c,h,p,f,d,g;for(d=function(){var n,e,r,u;for(r=t.args,u=[],n=0,e=r.length;e>n;n++)i=r[n],u.push(o(i));return u}(),h=0,p=d.length;p>h;h++)a=d[h],a.inout===u.inout&&(e=a,s=a.copy(),e.inout=u["in"],s.inout=u.out,s.meta={shadow:e.name},s.name+=r.SHADOW_ARG,e.meta={shadowed:s.name},d.push(s));return"void"!==t.type&&d.unshift(u.type(r.RETURN_ARG,t.type,!1,"","out")),c=function(){var t,n,e;for(e=[],t=0,n=d.length;n>t;t++)a=d[t],a.inout===u["in"]&&e.push(a.type);return e}().join(","),f=function(){var t,n,e;for(e=[],t=0,n=d.length;n>t;t++)a=d[t],a.inout===u.out&&e.push(a.type);return e}().join(","),g="("+c+")("+f+")",l={name:t.ident,type:g,signature:d,inout:n,spec:t.type}},p.main=s(t,u.out),a=0,c=n.length;c>a;a++)f=n[a],p.internal.push({name:f.ident});for(l=0,h=e.length;h>l;l++)switch(f=e[l],f.decl){case"external":i=o(f),p[f.storage].push(i);break;case"function":i=s(f,u["in"]),p.external.push(i)}return p},o=!1,m=function(t,n,e,r){var i,u,s,a,l,c,h,p;if(o&&console.log(r,e.type,null!=(c=e.token)?c.data:void 0,null!=(h=e.token)?h.type:void 0),l=t(e,n))for(p=e.children,u=s=0,a=p.length;a>s;u=++s)i=p[u],m(t,n,i,r+"  ",o);return null},d=function(){var t;return t=+new Date,function(n){var e;return e=+new Date-t,console.log(n,e+" ms"),e}},n.exports=m,n.exports=l},{"../../vendor/glsl-parser":39,"../../vendor/glsl-tokenizer":43,"./constants":19,"./decl":20}],24:[function(t,n,e){var r;r=function(){function t(n,e){this.parent=null!=e?e:null,this.id=t.id(),this.nodes=[],n&&this.add(n)}return t.index=0,t.id=function(n){return++t.index},t.IN=0,t.OUT=1,t.prototype.inputs=function(){var t,n,e,r,i,o,u,s,a;for(n=[],s=this.nodes,t=0,r=s.length;r>t;t++)for(o=s[t],a=o.inputs,e=0,i=a.length;i>e;e++)u=a[e],null===u.input&&n.push(u);return n},t.prototype.outputs=function(){var t,n,e,r,i,o,u,s,a;for(u=[],s=this.nodes,t=0,e=s.length;e>t;t++)for(i=s[t],a=i.outputs,n=0,r=a.length;r>n;n++)o=a[n],0===o.output.length&&u.push(o);return u},t.prototype.getIn=function(t){var n;return function(){var e,r,i,o;for(i=this.inputs(),o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.getOut=function(t){var n;return function(){var e,r,i,o;for(i=this.outputs(),o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.add=function(t,n){var e,r,i;{if(!t.length){if(t.graph&&!n)throw new Error("Adding node to two graphs at once");return t.graph=this,this.nodes.push(t)}for(r=0,i=t.length;i>r;r++)e=t[r],this.add(e)}},t.prototype.remove=function(t,n){var e,r,i;{if(!t.length){if(t.graph!==this)throw new Error("Removing node from wrong graph.");return n||t.disconnect(),this.nodes.splice(this.nodes.indexOf(t),1),t.graph=null}for(r=0,i=t.length;i>r;r++)e=t[r],this.remove(e)}},t.prototype.adopt=function(t){var n,e,r;{if(!t.length)return t.graph.remove(t,!0),this.add(t,!0);for(e=0,r=t.length;r>e;e++)n=t[e],this.adopt(n)}},t}(),n.exports=r},{}],25:[function(t,n,e){e.Graph=t("./graph"),e.Node=t("./node"),e.Outlet=t("./outlet"),e.IN=e.Graph.IN,e.OUT=e.Graph.OUT},{"./graph":24,"./node":26,"./outlet":27}],26:[function(t,n,e){var r,i,o;r=t("./graph"),o=t("./outlet"),i=function(){function t(n,e){this.owner=n,this.graph=null,this.inputs=[],this.outputs=[],this.all=[],this.outlets=null,this.id=t.id(),this.setOutlets(e)}return t.index=0,t.id=function(n){return++t.index},t.prototype.getIn=function(t){var n;return function(){var e,r,i,o;for(i=this.inputs,o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.getOut=function(t){var n;return function(){var e,r,i,o;for(i=this.outputs,o=[],e=0,r=i.length;r>e;e++)n=i[e],n.name===t&&o.push(n);return o}.call(this)[0]},t.prototype.get=function(t){return this.getIn(t)||this.getOut(t)},t.prototype.setOutlets=function(t){var n,e,r,i,u,s,a,l,c,h,p,f;if(null!=t){if(null==this.outlets){for(this.outlets={},r=0,a=t.length;a>r;r++)p=t[r],p instanceof o||(p=o.make(p)),this._add(p);return}for(e=function(t){return[t.name,t.inout,t.type].join("-")},h={},i=0,l=t.length;l>i;i++)p=t[i],h[e(p)]=!0;f=this.outlets;for(s in f)p=f[s],s=e(p),h[s]?h[s]=p:this._remove(p);for(u=0,c=t.length;c>u;u++)p=t[u],n=h[e(p)],n instanceof o?this._morph(n,p):(p instanceof o||(p=o.make(p)),this._add(p))}return this.outlets},t.prototype.connect=function(t,n,e){var r,i,o,u,s,a,l,c,h,p,f,d,g,m,v,y,_,b,x;for(d={},u={},x=function(t){return b+"/"+t.hint},g=t.inputs,s=0,c=g.length;c>s;s++)r=g[s],(e||!r.input)&&(b=r.type,o=x(r),u[o]||(u[o]=r),d[b]=f=d[b]||[],f.push(r));for(_=this.outputs,_=_.filter(function(t){return!(n&&t.output.length)}),m=_.slice(),a=0,h=m.length;h>a;a++)y=m[a],b=y.type,o=x(y),i=d[b],(r=u[o])&&(y.connect(r),delete u[o],i.splice(i.indexOf(r),1),_.splice(_.indexOf(y),1));if(!_.length)return this;for(v=_.slice(),l=0,p=v.length;p>l;l++)y=v[l],b=y.type,i=d[b],i&&i.length&&y.connect(i.shift());return this},t.prototype.disconnect=function(t){var n,e,r,i,o,u,s;for(u=this.inputs,n=0,r=u.length;r>n;n++)o=u[n],o.disconnect();for(s=this.outputs,e=0,i=s.length;i>e;e++)o=s[e],o.disconnect();return this},t.prototype._key=function(t){return[t.name,t.inout].join("-")},t.prototype._add=function(t){var n;if(n=this._key(t),t.node)throw new Error("Adding outlet to two nodes at once.");if(this.outlets[n])throw new Error("Adding two identical outlets to same node. ("+n+")");return t.node=this,t.inout===r.IN&&this.inputs.push(t),t.inout===r.OUT&&this.outputs.push(t),this.all.push(t),this.outlets[n]=t},t.prototype._morph=function(t,n){var e;return e=this._key(n),delete this.outlets[e],t.morph(n),e=this._key(n),this.outlets[e]=n},t.prototype._remove=function(t){var n,e;if(e=this._key(t),n=t.inout,t.node!==this)throw new Error("Removing outlet from wrong node.");return t.disconnect(),t.node=null,delete this.outlets[e],t.inout===r.IN&&this.inputs.splice(this.inputs.indexOf(t),1),t.inout===r.OUT&&this.outputs.splice(this.outputs.indexOf(t),1),this.all.splice(this.all.indexOf(t),1),this},t}(),n.exports=i},{"./graph":24,"./outlet":27}],27:[function(t,n,e){var r,i;r=t("./graph"),i=function(){function t(n,e,r,i,o,u){this.inout=n,this.name=e,this.hint=r,this.type=i,this.meta=null!=o?o:{},this.id=u,null==this.hint&&(this.hint=t.hint(this.name)),this.node=null,this.input=null,this.output=[],null==this.id&&(this.id=t.id(this.hint))}return t.make=function(n,e){var r,i,o,u;if(null==e&&(e={}),i=e,null!=n.meta){o=n.meta;for(r in o)u=o[r],i[r]=u}return new t(n.inout,n.name,n.hint,n.type,i)},t.index=0,t.id=function(n){return"_io_"+ ++t.index+"_"+n},t.hint=function(t){return t=t.replace(/^_io_[0-9]+_/,""),t=t.replace(/_i_o$/,""),t=t.replace(/(In|Out|Inout|InOut)$/,"")},t.prototype.morph=function(t){return this.inout=t.inout,this.name=t.name,this.hint=t.hint,this.type=t.type,this.meta=t.meta},t.prototype.dupe=function(n){var e;return null==n&&(n=this.id),e=t.make(this),e.name=n,e},t.prototype.connect=function(t){if(this.inout===r.IN&&t.inout===r.OUT)return t.connect(this);if(this.inout!==r.OUT||t.inout!==r.IN)throw new Error("Can only connect out to in.");if(t.input!==this)return t.disconnect(),t.input=this,this.output.push(t)},t.prototype.disconnect=function(t){var n,e,r,i;if(this.input&&this.input.disconnect(this),this.output.length){if(!t){for(i=this.output,n=0,r=i.length;r>n;n++)t=i[n],t.input=null;return this.output=[]}if(e=this.output.indexOf(t),e>=0)return this.output.splice(e,1),t.input=null}},t}(),n.exports=i},{"./graph":24}],28:[function(t,n,e){var r,i,o,u,s,a,l,c,h,p,f,d,g;r=t("./block"),i=t("./factory"),o=t("./glsl"),u=t("./graph"),s=t("./linker"),c=t("./visualize"),f=i.library,h=i.cache,g=c.visualize,p=c.inspect,l=s.Snippet,d=function(t,n){var e,r,i,o;null==n&&(n={}),r={};for(e in t)o=t[e],r[e]=null!=(i=n[e])?i:t[e];return r},a=function(){function t(n,e){var r;return this instanceof t?(r={globalUniforms:!1,globalVaryings:!0,globalAttributes:!0,globals:[],autoInspect:!1},this.config=d(r,e),void(this.fetch=h(f(o,n,l.load)))):new t(n,e)}return t.prototype.shader=function(t){var n;return null==t&&(t={}),n=d(this.config,t),new i.Factory(o,this.fetch,n)},t.prototype.material=function(t){return new i.Material(this.shader(t),this.shader(t))},t.prototype.overlay=function(n){return t.overlay(n)},t.prototype.visualize=function(n){return t.visualize(n)},t.Block=r,t.Factory=i,t.GLSL=o,t.Graph=u,t.Linker=s,t.Visualize=c,t.inspect=function(t){return p(t)},t.visualize=function(t){return g(t)},t}(),n.exports=a,"undefined"!=typeof window&&(window.ShaderGraph=a)},{"./block":8,"./factory":14,"./glsl":22,"./graph":25,"./linker":30,"./visualize":36}],29:[function(t,n,e){var r,i,o;r=t("../graph"),i=t("./priority"),o=function(t,n,e,o){var u,s,a,l,c,h,p,f,d,g,m,v,y,_;return l=t.generate,a={},v=[],y={},_={},s={},f={},g=function(){var t,r,u,h,p,d,g,b,x;for(d in o)g=o[d],m(g.node,g.module);return b=c(e),t=b[0],e=b[1],null!=n&&(t.entry=n),p=l.build(t,e),x=function(){var t;t=[];for(d in f)h=f[d],t.push(h);return t}().sort(function(t,n){return i.compare(t.priority,n.priority)}),u=x.map(function(t){return t.code}),u.push(p.code),r=l.lines(u),{namespace:p.name,library:f,body:p.code,code:r,main:p,entry:p.name,symbols:v,externals:a,uniforms:y,varyings:_,attributes:s}},c=function(t){return function(t){var n,e,r,i,o,u;for(t=function(){var n;n=[];for(u in t)e=t[u],n.push(e);return n}(),t.sort(function(t,n){return n.priority-t.priority}),r=function(t,e,r){var i,o,u,s;return h(t,e,r),s=e.main,u=e.entry,o=function(n){return d(t,n)},i=function(n){return p(t,n)},l.call(o,i,u,s.signature,n)},n=l.body(),i=0,o=t.length;o>i;i++)e=t[i],r(e.node,e.module,e.priority);return[n,t]}}(this),u=function(t,n,e){var r;return r=f[t],null!=r?r.priority=i.max(r.priority,e):f[t]={code:n,priority:e}},h=function(t,n,e){var r,o,a,l,c,h,p,f;e=i.make(e),c=n.library;for(l in c)a=c[l],u(l,a.code,i.nest(e,a.priority));u(n.namespace,n.body,e),h=n.uniforms;for(o in h)r=h[o],y[o]=r;p=n.varyings;for(o in p)r=p[o],_[o]=r;f=n.attributes;for(o in f)r=f[o],s[o]=r;return m(t,n)},m=function(t,n){var e,r,i,o,u,s,l,c,h;for(l=n.symbols,c=[],i=0,s=l.length;s>i;i++)if(u=l[i],r=n.externals[u],p(t,r.name)){e={};for(o in r)h=r[o],e[o]=h;e.name=d(t,r.name),a[u]=e,c.push(v.push(u))}else c.push(void 0);return c},p=function(t,n){var e;return e=t.get(n),e.inout===r.IN?null===e.input:e.inout===r.OUT?0===e.output.length:void 0},d=function(t,n){var e;return(e=t.get(n))?(e.input&&(e=e.input),n=e.name,e.id):null},g()},n.exports=o},{"../graph":25,"./priority":33}],30:[function(t,n,e){e.Snippet=t("./snippet"),e.Program=t("./program"),e.Layout=t("./layout"),e.assemble=t("./assemble"),e.link=t("./link"),e.priority=t("./priority"),e.load=e.Snippet.load},{"./assemble":29,"./layout":31,"./link":32,"./priority":33,"./program":34,"./snippet":35}],31:[function(t,n,e){var r,i,o,u;i=t("./snippet"),u=t("./link"),o=!1,r=function(){function t(t,n){this.language=t,this.graph=n,this.links=[],this.includes=[],this.modules={},this.visits={}}return t.prototype.callback=function(t,n,e,r,i){return this.links.push({node:t,module:n,priority:e,name:r,external:i})},t.prototype.include=function(t,n,e){var r;return null!=(r=this.modules[n.namespace])?r.priority=Math.max(e,r.priority):(this.modules[n.namespace]=!0,this.includes.push({node:t,module:n,priority:e}))},t.prototype.visit=function(t){return o&&console.log("Visit",t,!this.visits[t]),this.visits[t]?!1:this.visits[t]=!0},t.prototype.link=function(t){var n,e,r;n=u(this.language,this.links,this.includes,t),r=new i;for(e in n)r[e]=n[e];return r.graph=this.graph,r},t}(),n.exports=r},{"./link":32,"./snippet":35}],32:[function(t,n,e){var r,i,o;r=t("../graph"),i=t("./priority"),o=function(t,n,e,o){var u,s,a,l,c,h,p,f,d,g,m,v;return l=t.generate,h=[],g=[],a={},m={},s={},v={},f={},d=function(){var t,r,u,p,d,g,y,_,b,x;for(u=l.links(n),p=[],null!=u.defs&&p.push(u.defs),null!=u.bodies&&p.push(u.bodies),d=0,g=e.length;g>d;d++)_=e[d],c(_.node,_.module,_.priority);return x=function(){var t;t=[];for(b in f)y=f[b],t.push(y);return t}().sort(function(t,n){return i.compare(t.priority,n.priority)}),h=x.map(function(t){return t.code}),t=l.lines(h),t=l.defuse(t),p.length&&(t=[l.lines(p),t].join("\n")),t=l.hoist(t),t=l.dedupe(t),r=o,{namespace:r.main.name,code:t,main:r.main,entry:r.main.name,externals:a,uniforms:m,attributes:s,varyings:v}},u=function(t,n,e){var r;return r=f[t],null!=r?r.priority=i.max(r.priority,e):f[t]={code:n,priority:e}},c=function(t,n,e){var r,o,l,c,h,f,d,y,_,b,x,k,w;e=i.make(e),y=n.library;for(d in y)f=y[d],u(d,f.code,i.nest(e,f.priority));u(n.namespace,n.body,e),_=n.uniforms;for(c in _)r=_[c],m[c]=r;b=n.varyings;for(c in b)r=b[c],v[c]=r;x=n.attributes;for(c in x)r=x[c],s[c]=r;for(k=n.symbols,w=[],l=0,h=k.length;h>l;l++)c=k[l],o=n.externals[c],p(t,o.name)?(a[c]=o,w.push(g.push(c))):w.push(void 0);return w},p=function(t,n){var e,i,o,u;if(i=t.get(n),!i)throw e=null!=(o=null!=(u=t.owner.snippet)?u._name:void 0)?o:t.owner.namespace,new Error("Unable to link program. Unlinked callback `"+n+"` on `"+e+"`");return i.inout===r.IN?null===i.input:i.inout===r.OUT?0===i.output.length:void 0},d()},n.exports=o},{"../graph":25,"./priority":33}],33:[function(t,n,e){e.make=function(t){var n;return null==t&&(t=[]),t instanceof Array||(t=[null!=(n=+t)?n:0]),t},e.nest=function(t,n){return t.concat(n)},e.compare=function(t,n){var e,r,i,o,u,s;for(i=Math.min(t.length,n.length),e=r=0,s=i;s>=0?s>r:r>s;e=s>=0?++r:--r){if(o=t[e],u=n[e],o>u)return-1;if(u>o)return 1}return t=t.length,n=n.length,t>n?-1:n>t?1:0},e.max=function(t,n){return e.compare(t,n)>0?n:t}},{}],34:[function(t,n,e){var r,i,o;i=t("./snippet"),o=t("./assemble"),r=function(){function t(t,n,e){this.language=t,this.namespace=n,this.graph=e,this.calls={},this.requires={}}return t.index=0,t.entry=function(){return"_pg_"+ ++t.index+"_"},t.prototype.call=function(t,n,e){var r,i;return i=n.namespace,(r=this.calls[i])?r.priority=Math.max(r.priority,e):this.calls[i]={node:t,module:n,priority:e},this},t.prototype.require=function(t,n){var e;return e=n.namespace,this.requires[e]={node:t,module:n}},t.prototype.assemble=function(){var n,e,r,u;n=o(this.language,null!=(r=this.namespace)?r:t.entry,this.calls,this.requires),u=new i;for(e in n)u[e]=n[e];return u.graph=this.graph,u},t}(),n.exports=r},{"./assemble":29,"./snippet":35}],35:[function(t,n,e){var r;r=function(){function t(t,n,e,r,i){var o;this.language=t,this._signatures=n,this._compiler=e,this._name=r,this._original=i,this.namespace=null,this.code=null,this.main=null,this.entry=null,this.uniforms=null,this.externals=null,this.symbols=null,this.attributes=null,this.varyings=null,this.language||delete this.language,this._signatures||delete this._signatures,this._compiler||delete this._compiler,this._original||delete this._original,this._name||(this._name=null!=(o=this._signatures)?o.main.name:void 0)}return t.index=0,t.namespace=function(){return"_sn_"+ ++t.index+"_"},t.load=function(n,e,r){var i,o,u,s;return o=n.parse(e,r),u=n.compile(o),s=u[0],i=u[1],new t(n,s,i,e,r)},t.prototype.clone=function(){return new t(this.language,this._signatures,this._compiler,this._name,this._original)},t.prototype.bind=function(n,e,r,i){var o,u,s,a,l,c,h,p,f,d,g,m,v,y,_,b,x,k,w,M,O,C,T,E,j,I,A,P,R,S,L,N,q,U,z,D,G,F,V,H;if(e===""+e?(R=[e,null!=r?r:{},null!=i?i:{}],r=R[0],e=R[1],i=R[2]):r!==""+r&&(S=[null!=r?r:{},void 0],i=S[0],r=S[1]),this.main=this._signatures.main,this.namespace=null!=(L=null!=r?r:this.namespace)?L:t.namespace(),this.entry=this.namespace+this.main.name,this.uniforms={},this.varyings={},this.attributes={},this.externals={},this.symbols=[],d={},f={},g=function(t){return f[t]=!0,t},T=function(t){return function(n){return t.namespace+n}}(this),n.globals)for(N=n.globals,m=0,x=N.length;x>m;m++)_=N[m],g(_);for(s=n.globalUniforms?g:T,a=n.globalVaryings?g:T,o=n.globalAttributes?g:T,u=T,H=function(t){return function(t){return d[t.name]=!0}}(this),F=function(t){return function(n,e){return t.uniforms[s(null!=e?e:n.name)]=n}}(this),V=function(t){return function(n){return t.varyings[a(n.name)]=n}}(this),l=function(t){return function(n){return t.attributes[o(n.name)]=n}}(this),p=function(t){return function(n){var e;return e=u(n.name),t.externals[e]=n,t.symbols.push(e)}}(this),P=function(t){return{type:t.type,name:t.name,value:t.value}},q=this._signatures.uniform,v=0,k=q.length;k>v;v++)c=q[v],H(c);for(U=this._signatures.uniform,b=0,w=U.length;w>b;b++)c=U[b],F(P(c));for(z=this._signatures.varying,E=0,M=z.length;M>E;E++)c=z[E],V(P(c));for(D=this._signatures.external,j=0,O=D.length;O>j;j++)c=D[j],p(c);for(G=this._signatures.attribute,A=0,C=G.length;C>A;A++)c=G[A],l(P(c));for(I in e)c=e[I],d[I]&&F(c,I);return this.body=this.code=this._compiler(this.namespace,f,i),i&&(h=function(){var t;t=[];for(y in i)V=i[y],t.push("#define "+y+" "+V);return t}().join("\n"),h.length&&(this._original=[h,"//----------------------------------------",this._original].join("\n"))),null},t}(),n.exports=r},{}],36:[function(t,n,e){var r,i,o,u,s,a;r=t("../Graph").Graph,e.serialize=s=t("./serialize"),e.markup=i=t("./markup"),a=function(t){var n;if(t)return t.nodes?(n=s(t),i.process(n)):t},u=function(t){return null==t?t:t instanceof Array?t.map(u):null!=t.vertex&&null!=t.fragment?[u(t.vertex,u(t.fragment))]:null!=t._graph?t._graph:null!=t.graph?t.graph:t},o=function(t){var n,e,r,i;for(i=[],e=0,r=t.length;r>e;e++)n=t[e],n instanceof Array?i=i.concat(o(n)):null!=n&&i.push(n);return i},e.visualize=function(){var t,n;return n=o(u([].slice.call(arguments))),i.merge(function(){var e,r,i;for(i=[],e=0,r=n.length;r>e;e++)t=n[e],t&&i.push(a(t));return i}())},e.inspect=function(){var t,n,r,o,u,s;for(t=e.visualize.apply(null,arguments),r=i.overlay(t),s=document.querySelectorAll(".shadergraph-overlay"),o=0,u=s.length;u>o;o++)n=s[o],n.remove();return document.body.appendChild(r),t.update(),r}},{"../Graph":2,"./markup":37,"./serialize":38}],37:[function(t,n,e){var r,i,o,u,s,a,l,c,h,p,f,d,g,m,v,y;l=t("../factory/hash"),v=function(t){return(""+t).replace(/^\s+|\s+$/g,"")},s=function(t,n,e,r){return"rgba("+[t,n,e,r].join(", ")+")"},c=function(t,n){var e,r,i,o,u,a,c;return null==n&&(n=1),r=1193046^l(t),c=255&r,i=r>>>8&255,e=r>>>16&255,o=Math.max(c,i,e),a=140/o,u=Math.round(o/3),c=Math.min(255,Math.round(a*Math.max(c,u))),i=Math.min(255,Math.round(a*Math.max(i,u))),e=Math.min(255,Math.round(a*Math.max(e,u))),s(c,i,e,n)},a=function(t){return t=null!=t?t:"",t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},g=function(t){var n,e;return e=[],n=i(t,e),n.update=function(){return u(n,e)},r(n),n},r=function(t){var n,e,r,i,o;for(e=t.querySelectorAll(".shadergraph-code"),o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(function(){var t;return t=n,t.parentNode.classList.add("shadergraph-has-code"),t.parentNode.addEventListener("click",function(n){return t.style.display={block:"none",none:"block"}[t.style.display||"none"]})}());return o},o=function(t){var n,e,r,i,o,u,s,a,l,c,h,p,f,d,g;for(h={},a={},f=t.nodes,n=0,i=f.length;i>n;n++)c=f[n],h[c.id]=c;for(d=t.links,e=0,o=d.length;o>e;e++)s=d[e],null==a[l=s.from]&&(a[l]=[]),a[s.from].push(s);for(p=function(t,n){var e,r,i,o;if(null==n&&(n=0),t.depth=Math.max(null!=(o=t.depth)?o:0,n),i=a[t.id])for(e=0,r=i.length;r>e;e++)s=i[e],p(h[s.to],n+1);return null},g=t.nodes,r=0,u=g.length;u>r;r++)c=g[r],null==c.depth&&p(c);return null},i=function(t,n){var e,r,u,s,l,h,p,f,d,g,m,y,_,b,x,k,w,M,O,C,T,E,j,I,A,P;for(o(t),P=document.createElement("div"),P.classList.add("shadergraph-graph"),h=[],T={},E=t.nodes,f=0,y=E.length;y>f;f++){for(O=E[f],r=document.createElement("div"),r.classList.add("shadergraph-node"),r.classList.add("shadergraph-node-"+O.type),r.innerHTML='<div class="shadergraph-header">'+a(O.name)+"</div>",e=function(t,n){var e,i;return e=c(t.type),i=document.createElement("div"),i.classList.add("shadergraph-outlet"),i.classList.add("shadergraph-outlet-"+n),i.innerHTML='<div class="shadergraph-point" style="background: '+e+'"></div>\n<div class="shadergraph-type" style="color: '+e+'">'+a(t.type)+'</div>\n<div class="shadergraph-name">'+a(t.name)+"</div>",r.appendChild(i),T[t.id]=i.querySelector(".shadergraph-point")},j=O.inputs,d=0,_=j.length;_>d;d++)C=j[d],e(C,"in");for(I=O.outputs,g=0,b=I.length;b>g;g++)C=I[g],e(C,"out");null!=O.graph?r.appendChild(i(O.graph,n)):(u=document.createElement("div"),u.classList.add("shadergraph-clear"),r.appendChild(u)),null!=O.code&&(p=document.createElement("div"),p.classList.add("shadergraph-code"),p.innerHTML=a(v(O.code)),r.appendChild(p)),l=h[O.depth],null==l&&(l=document.createElement("div"),l.classList.add("shadergraph-column"),h[O.depth]=l),l.appendChild(r)}for(m=0,x=h.length;x>m;m++)l=h[m],null!=l&&P.appendChild(l);for(A=t.links,M=0,k=A.length;k>M;M++)w=A[M],s=c(w.type),n.push({color:s,out:T[w.out],"in":T[w["in"]]});return P},m=function(t){return t*t},d=function(t,n,e,r){var i,o,u,s,a,l,c,h;return o=e-t,u=r-n,i=Math.sqrt(m(o)+m(u)),h=Math.abs(u)>Math.abs(o),h?(l=(t+e)/2,c=(n+r)/2,s=u>0?.3:-.3,a=Math.min(Math.abs(o)/2,20+i/8),["M",t,n,"C",t+a,n+",",l,c-i*s,l,c,"C",l,c+i*s,e-a,r+",",e,r].join(" ")):(a=Math.min(Math.abs(o)/2.5,20+i/4),["M",t,n,"C",t+a,n+",",e-a,r+",",e,r].join(" "))},h=function(t){return null==t&&(t="svg"),document.createElementNS("http://www.w3.org/2000/svg",t)},u=function(t,n){var e,r,i,o,u,s,a,l,c,p,f,g;if(null!=t.parentNode){for(f=t.getBoundingClientRect(),u=0,a=n.length;a>u;u++)p=n[u],e=p.out.getBoundingClientRect(),r=p["in"].getBoundingClientRect(),p.coords={x1:(e.left+e.right)/2-f.left,y1:(e.top+e.bottom)/2-f.top,x2:(r.left+r.right)/2-f.left,y2:(r.top+r.bottom)/2-f.top};for(g=t.querySelector("svg"),null!=g&&t.removeChild(g),i=t;i.parentNode&&0===i.offsetHeight;)i=i.parentNode;for(g=h(),g.setAttribute("width",i.offsetWidth),g.setAttribute("height",i.offsetHeight),s=0,l=n.length;l>s;s++)p=n[s],o=p.coords,c=h("path"),c.setAttribute("d",d(o.x1,o.y1,o.x2,o.y2)),c.setAttribute("stroke",p.color),c.setAttribute("stroke-width",3),c.setAttribute("fill","transparent"),g.appendChild(c);return t.appendChild(g)}},f=function(t){var n,e,r,i;return e=document.createElement("div"),e.setAttribute("class","shadergraph-overlay"),n=document.createElement("div"),n.setAttribute("class","shadergraph-close"),n.innerHTML="&times;",i=document.createElement("div"),i.setAttribute("class","shadergraph-view"),r=document.createElement("div"),r.setAttribute("class","shadergraph-inside"),r.appendChild(t),i.appendChild(r),e.appendChild(i),e.appendChild(n),n.addEventListener("click",function(){return e.parentNode.removeChild(e)}),e},y=function(t){var n;return t instanceof Node?t:(n=document.createElement("span"),n.innerText=null!=t?t:"",n)},p=function(t){var n,e,r,i;if(1!==t.length){for(n=document.createElement("div"),r=0,i=t.length;i>r;r++)e=t[r],n.appendChild(y(e));return n.update=function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push("function"==typeof e.update?e.update():void 0);return i},n}return y(t[0])},n.exports={process:g,merge:p,overlay:f}},{"../factory/hash":13}],38:[function(t,n,e){var r,i,o;r=t("../block"),i=function(t){return"("===t.type[0]},o=function(t){var n,e,i,u,s,a,l,c,h,p,f,d,g,m,v,y,_,b,x,k,w,M,O;for(m=[],d=[],x=t.nodes,i=0,c=x.length;c>i;i++){for(g=x[i],b={id:g.id,name:null,type:null,depth:null,graph:null,inputs:[],outputs:[]},m.push(b),u=b.inputs,_=b.outputs,n=g.owner,n instanceof r.Call?(b.name=n.snippet._name,b.type="call",b.code=n.snippet._original):n instanceof r.Callback?(b.name="Callback",b.type="callback",b.graph=o(n.graph)):n instanceof r.Isolate?(b.name="Isolate",b.type="isolate",b.graph=o(n.graph)):n instanceof r.Join?(b.name="Join",b.type="join"):null!=n&&(null==b.name&&(b.name=null!=(k=n.name)?k:n.type),null==b.type&&(b.type=n.type),null!=n.graph&&(b.graph=o(n.graph))),e=function(t){return t=t.replace(")(",")("),t=t.replace("()","")},w=g.inputs,s=0,h=w.length;h>s;s++)y=w[s],u.push({id:y.id,name:y.name,type:e(y.type),open:null==y.input});for(M=g.outputs,a=0,p=M.length;p>a;a++)for(y=M[a],_.push({id:y.id,name:y.name,type:e(y.type),open:!y.output.length}),O=y.output,l=0,f=O.length;f>l;l++)v=O[l],d.push({from:g.id,out:y.id,to:v.node.id,"in":v.id,type:e(y.type)})}return{nodes:m,links:d}},n.exports=o},{"../block":8}],39:[function(t,n,e){n.exports=t("./lib/index")},{"./lib/index":41}],40:[function(t,n,e){function r(){return this}function i(t,n){var e=y[t];return n=n||0,e?n>e.lbp&&(e.lbp=n):(e=Object.create(v),e.id=t,e.lbp=n,y[t]=e),e}function o(t){var n,e=d;for(h(),n=e.nud();t<d.lbp;)e=d,h(),n=e.led(n);return n}function u(t,n,e){var r=i(t,n);r.led=e||function(t){return this.children=[t,o(n)],this.type="binary",this}}function s(t,n,e){var r=i(t,n);return r.led=e||function(t){return this.children=[t,o(n-1)],this.type="binary",this},r}function a(t,n){var e=i(t);return e.nud=n||function(){return this.children=[o(70)],this.type="unary",this},e}function l(t){var n=i(t,150);n.led=function(t){return this.children=[t],this.type="suffix",this}}function c(t){return s(t,10,function(t){return this.children=[t,o(9)],this.assignment=!0,this.type="assign",this})}function h(t){var n,e,i,o;if(t&&d.data!==t)return f.unexpected("expected `"+t+"`, got `"+d.data+"`");if(m>=g.length)return void(d=y["(end)"]);if(n=g[m++],e=n.data,i=n.type,"ident"===i)o=f.scope.find(e)||f.create_node(),i=o.type;else if("builtin"===i)o=y["(builtin)"];else if("keyword"===i)o=y["(keyword)"];else if("operator"===i){if(o=y[e],!o)return f.unexpected("unknown operator `"+e+"`")}else{if("float"!==i&&"integer"!==i)return f.unexpected("unexpected token.");i="literal",o=y["(literal)"]}return o&&(o.nud||(o.nud=r),o.children||(o.children=[])),o=Object.create(o),o.token=n,o.type=i,o.data||(o.data=e),d=o}function p(t){return function(){return f.unexpected(t)}}var f,d,g,m,v={nud:function(){return this.children&&this.children.length?this:p("unexpected")()},led:p("missing operator")},y={};i("(ident)").nud=r,i("(keyword)").nud=r,i("(builtin)").nud=r,i("(literal)").nud=r,i("(end)"),i(":"),i(";"),i(","),i(")"),i("]"),i("}"),s("&&",30),s("||",30),u("|",43),u("^",44),u("&",45),u("==",46),u("!=",46),u("<",47),u("<=",47),u(">",47),u(">=",47),u(">>",48),u("<<",48),u("+",50),u("-",50),u("*",60),u("/",60),u("%",60),u("?",20,function(t){return this.children=[t,o(0),(h(":"),o(0))],this.type="ternary",this}),u(".",80,function(t){return d.type="literal",f.fake(d),this.children=[t,d],h(),this}),u("[",80,function(t){return this.children=[t,o(0)],this.type="binary",h("]"),this}),u("(",80,function(t){if(this.children=[t],this.type="call",")"!==d.data)for(;;){if(this.children.push(o(0)),","!==d.data)break;h(",")}return h(")"),this}),a("-"),a("+"),a("!"),a("~"),a("defined"),a("(",function(){return this.type="group",this.children=[o(0)],h(")"),this}),a("++"),a("--"),l("++"),l("--"),c("="),c("+="),c("-="),c("*="),c("/="),c("%="),c("&="),c("|="),c("^="),c(">>="),c("<<="),n.exports=function(t,n){function e(t){f.unshift(t,!1);for(var n=0,r=t.children.length;r>n;++n)e(t.children[n]);f.shift()}f=t,g=n,m=0;var r;if(g.length){if(h(),r=o(0),r.parent=f[0],e(r),m<g.length)throw new Error("did not use all tokens");r.parent.children=[r]}}},{}],41:[function(t,n,e){function r(){function t(t){if("whitespace"===t.type||"line-comment"===t.type||"block-comment"===t.type)return void Qt.push(t);for(Wt.push(t),At=At||Wt[0],At&&Qt.length&&(At.preceding=At.preceding||[],At.preceding=At.preceding.concat(Qt),Qt=[]);e();)switch(Jt[0].mode){case g:D();break;case m:E();break;case b:K();break;case x:X();break;case O:et();break;case v:bt(!0,!0);break;case C:xt();break;case d:nt();break;case j:tt();break;case I:Y();break;case y:Et();break;case _:jt();break;case k:wt();break;case w:Ct();break;case L:Tt();break;case A:Ot();break;case M:Mt();break;case q:kt()}}function n(n){return arguments.length&&t(n),Jt.length>1?void lt("unexpected EOF"):void $t.emit("end")}function e(){return Kt||!Jt.length?!1:(At=Wt[0])&&!$t.paused}function r(t){Jt.unshift(t),Jt.shift()}function f(t,n){t.parent=Jt[0];var e=[].unshift.call(this,t);if(n=void 0===n?!0:n,p){for(var r="",i=0,o=this.length-1;o>i;++i)r+=" |";console.log(r,"\\"+t.type,t.token.data)}return n&&Pt!==t&&Pt.children.push(t),Pt=t,e}function T(){var t=[].shift.call(this),n=Zt[this.length],e=!1;if(p){for(var r="",i=0,o=this.length;o>i;++i)r+=" |";console.log(r,"/"+t.type)}return Zt.length?"function"==typeof Zt[0]?e=Zt[0](t):void 0!==n&&(e=n.test?n.test(t.type):n===t.type):e=!0,e&&$t.emit("data",t),Pt=t.parent,t}function E(){function t(){if(At.data===Jt[0].expecting)return Jt.scope.exit(),Jt.shift();switch(At.type){case"preprocessor":return Jt.fake(it()),void Wt.shift();default:return void Jt.unshift(St())}}return pt(function(){return Jt.scope.enter(),h},t)()}function D(){if(Jt[0].brace)return"}"!==At.data?lt("expected `}`, got "+At.data):(Jt[0].brace=!1,Wt.shift(),Jt.shift());switch(At.type){case"eof":return Jt.shift();case"keyword":switch(At.data){case"for":return Jt.unshift(Dt());case"if":return Jt.unshift(Gt());case"while":return Jt.unshift(Ft());case"do":return Jt.unshift(Ht());case"break":return Jt.fake(i(P,At)),Wt.shift();case"continue":return Jt.fake(i(R,At)),Wt.shift();case"discard":return Jt.fake(i(S,At)),Wt.shift();case"return":return Jt.unshift(Vt());case"precision":return Jt.unshift(Nt())}return Jt.unshift(ot(B));case"ident":var t;if(t=Jt.scope.find(At.data))return"struct"===t.parent.type?Jt.unshift(ot(B)):Jt.unshift(st(";"));case"operator":if("{"===At.data){Jt[0].brace=!0;var n=Rt();return n.expecting="}",Wt.shift(),Jt.unshift(n)}if(";"===At.data)return Wt.shift(),Jt.shift();default:return Jt.unshift(st(";"))}}function K(){function t(){return"invariant"===At.data?d.flags&G?(Jt.unshift(at()),h):lt("`invariant` is not allowed here"):(Jt.fake(i(N,{data:"",position:At.position})),h)}function n(){return o(At)?d.flags&F?(Jt.unshift(at()),h):lt("storage is not allowed here"):(Jt.fake(i(N,{data:"",position:At.position})),h)}function e(){return u(At)?d.flags&V?lt("parameter is not allowed here"):(Jt.unshift(at()),h):(Jt.fake(i(N,{data:"",position:At.position})),h)}function r(){return s(At)?(Jt.unshift(at()),h):(Jt.fake(i(N,{data:"",position:At.position})),h)}function a(){if("struct"===At.data)return d.flags&H?(Jt.unshift(ut()),h):lt("cannot nest structs");if("keyword"===At.type)return Jt.unshift(at()),h;var t=Jt.scope.find(At.data);return t?(Jt.fake(Object.create(t)),Wt.shift(),h):lt("expected user defined type, struct or keyword, got "+At.data)}function l(){return","!==At.data||d.flags&z?"["===At.data?void Jt.unshift(Bt()):")"===At.data?Jt.shift():";"===At.data?d.stage+3:"ident"!==At.type?(console.log(At),lt("expected identifier, got "+At.data)):(d.collected_name=Wt.shift(),h):Jt.shift()}function c(){return"("===At.data?(Wt.unshift(d.collected_name),delete d.collected_name,Jt.unshift(Ut()),d.stage+2):h}function p(){return Wt.unshift(d.collected_name),delete d.collected_name,Jt.unshift(Lt()),h}function f(){return Jt.shift()}var d=Jt[0];return pt(t,n,e,r,a,l,c,p,f)()}function X(){if("ident"===At.type){var t=At.data;return Jt.unshift(qt()),void Jt.scope.define(t)}if("operator"===At.type){if(","===At.data)return Jt[1].flags&z?Wt.shift():Jt.shift();if("="===At.data)return Jt[1].flags&U?(Wt.shift(),void Jt.unshift(st(",",";"))):lt("`=` is not allowed here.");if("["===At.data)return void Jt.unshift(Bt())}return Jt.shift()}function Y(){return"keyword"===At.type?(Jt[0].type="keyword",void(Jt[0].mode=j)):"ident"===At.type?(Jt[0].type="ident",void(Jt[0].mode=d)):lt("expected keyword or user-defined name, got "+At.data)}function tt(){return"keyword"!==At.type?lt("expected keyword, got "+At.data):(Jt.shift(),Wt.shift())}function nt(){return"ident"!==At.type?lt("expected user-defined name, got "+At.data):(Jt[0].data=At.data,Jt.shift(),Wt.shift())}function et(){function t(t){return l(Jt,t),Jt.shift()}var n=Jt[0].expecting;if(Jt[0].tokens=Jt[0].tokens||[],void 0===Jt[0].parenlevel&&(Jt[0].parenlevel=0,Jt[0].bracelevel=0),Jt[0].parenlevel<1&&n.indexOf(At.data)>-1)return t(Jt[0].tokens);
switch("("===At.data?++Jt[0].parenlevel:")"===At.data&&--Jt[0].parenlevel,At.data){case"{":++Jt[0].bracelevel;break;case"}":--Jt[0].bracelevel;break;case"(":++Jt[0].parenlevel;break;case")":--Jt[0].parenlevel}return Jt[0].parenlevel<0?lt("unexpected `)`"):Jt[0].bracelevel<0?lt("unexpected `}`"):void Jt[0].tokens.push(Wt.shift())}function rt(t){return function(){return i(t,At)}}function it(){return i(Q[At.type],At,Pt)}function ot(t){var n=i(b,At,Pt);return n.flags=t,n}function ut(t,n){var e=i(v,At,Pt);return e.allow_assign=void 0===t?!0:t,e.allow_comma=void 0===n?!0:n,e}function st(){var t=i(O,At,Pt);return t.expecting=[].slice.call(arguments),t}function at(t){var n=At;return t&&(n={type:"(implied)",data:"(default)",position:n.position}),i(j,n,Pt)}function lt(t){Kt=!0,$t.emit("error",new Error((t||"unexpected "+Jt)+" at line "+Jt[0].token.line))}function ct(t,n){return ht(t,At.type)&&ht(n,At.data)}function ht(t,n){switch(typeof t){case"string":return n!==t&&lt("expected `"+t+"`, got "+n+"\n"+At.data),!Kt;case"object":return t&&-1===t.indexOf(n)&&lt("expected one of `"+t.join("`, `")+"`, got "+n),!Kt}return!0}function pt(){var t,n,e=[].slice.call(arguments);return function(){var r=Jt[0];return r.stage||(r.stage=0),(t=e[r.stage])?(n=t(),n===h?++r.stage:void(void 0!==n&&(r.stage=n))):lt("parser in undefined state!")}}function ft(t,n){return n=n||"operator",function(){if(ct(n,t)){var e=Wt.shift(),r=Jt[0].children,i=r[r.length-1];return i&&i.token&&e.preceding&&(i.token.succeeding=i.token.succeeding||[],i.token.succeeding=i.token.succeeding.concat(e.preceding)),h}}}function dt(t){return function(){return Jt.unshift(st(t)),h}}function gt(t){return t?function(){var t=At.data;return ct("ident")&&(Jt.unshift(qt()),Jt.scope.define(t),h)}:function(){if(ct("ident")){var t=Object.create(Jt.scope.find(At.data));return t.token=At,Wt.shift(),h}}}function mt(){return function(){var t=Rt();return t.expecting="}",Jt.unshift(t),h}}function vt(t){return function(){var n=Jt[0].stage;return"{"!==At.data?(Jt.unshift(St()),n+t):(Wt.shift(),h)}}function yt(){return function(){return Jt.shift(),Jt.shift()}}function _t(){bt=pt(ft("struct","keyword"),function(){return"{"===At.data?(Jt.fake(i(d,{data:"",position:At.position,type:"ident"})),h):gt(!0)()},function(){return Jt.scope.enter(),h},ft("{"),function(){return"}"===At.data?(Jt.scope.exit(),Wt.shift(),Jt.shift()):";"===At.data?void Wt.shift():void Jt.unshift(ot(Z))}),xt=pt(function(){return Wt.shift(),h},function(){return ct("keyword",["lowp","mediump","highp"])&&(Jt.unshift(at()),h)},function(){return Jt.unshift(at()),h},function(){return Jt.shift()}),kt=pt(ft("["),dt("]"),ft("]"),function(){return Jt.shift()}),wt=pt(ft("for","keyword"),ft("("),function(){var t;if("ident"===At.type){if((t=Jt.scope.find(At.data))||(t=Jt.create_node()),"struct"===t.parent.type)return Jt.unshift(ot(B)),h}else if("builtin"===At.type||"keyword"===At.type)return Jt.unshift(ot(B)),h;return dt(";")()},ft(";"),dt(";"),ft(";"),dt(")"),ft(")"),vt(3),mt(),ft("}"),yt()),Mt=pt(ft("if","keyword"),ft("("),dt(")"),ft(")"),vt(3),mt(),ft("}"),function(){return"else"===At.data?(Wt.shift(),Jt.unshift(St()),h):yt()()},yt()),Ot=pt(ft("return","keyword"),function(){return";"===At.data?h:(Jt.unshift(st(";")),h)},function(){Wt.shift(),yt()()}),Ct=pt(ft("while","keyword"),ft("("),dt(")"),ft(")"),vt(3),mt(),ft("}"),yt()),Tt=pt(ft("do","keyword"),vt(3),mt(),ft("}"),ft("while","keyword"),ft("("),dt(")"),ft(")"),yt()),Et=pt(function(){for(var t=1,n=Jt.length;n>t;++t)if(Jt[t].mode===y)return lt("function definition is not allowed within another function");return h},function(){if(ct("ident")){var t=At.data,n=Jt.scope.find(t);return Jt.unshift(qt()),Jt.scope.define(t),Jt.scope.enter(n?n.scope:null),h}},ft("("),function(){return Jt.unshift(zt()),h},ft(")"),function(){return";"===At.data?(Jt.scope.exit(),Jt.shift(),Jt.shift()):h},ft("{"),mt(),ft("}"),function(){return Jt.scope.exit(),h},function(){return Jt.shift(),Jt.shift(),Jt.shift()}),jt=pt(function(){return"void"===At.data?(Jt.fake(at()),Wt.shift(),h):")"===At.data?void Jt.shift():"struct"===At.data?(Jt.unshift(ut(J,W)),h):(Jt.unshift(ot($)),h)},function(){return","===At.data?(Wt.shift(),0):")"===At.data?void Jt.shift():void lt("expected one of `,` or `)`, got "+At.data)})}var bt,xt,kt,wt,Mt,Ot,Ct,Tt,Et,jt,It,At,Pt,Rt=rt(m),St=rt(g),Lt=rt(x),Nt=rt(C),qt=rt(d),Ut=(rt(I),rt(y)),zt=rt(_),Dt=rt(k),Gt=rt(M),Ft=rt(w),Vt=rt(A),Ht=rt(L),Bt=rt(q),$t=a(t,n),Zt=arguments.length?[].slice.call(arguments):[],Jt=[],Wt=[],Qt=[],Kt=!1;return Jt.shift=T,Jt.unshift=f,Jt.fake=r,Jt.unexpected=lt,Jt.scope=new c(Jt),Jt.create_node=function(){var t=i(d,At);return t.parent=$t.program,t},_t(),Pt=Rt(),Pt.expecting="(eof)",Pt.mode=m,Pt.token={type:"(program)",data:"(program)"},It=Pt,$t.program=It,$t.scope=function(t){return 1===arguments.length&&(Jt.scope=t),Jt.scope},Jt.unshift(Pt),$t}function i(t,n){return{mode:t,token:n,children:[],type:K[t]}}function o(t){return"const"===t.data||"attribute"===t.data||"uniform"===t.data||"varying"===t.data}function u(t){return"in"===t.data||"inout"===t.data||"out"===t.data}function s(t){return"highp"===t.data||"mediump"===t.data||"lowp"===t.data}n.exports=r;var a=t("../../through"),l=t("./expr"),c=t("./scope"),h=new Object,p=!1,f=0,d=f++,g=f++,m=f++,v=f++,y=f++,_=f++,b=f++,x=f++,k=f++,w=f++,M=f++,O=f++,C=f++,T=f++,E=f++,j=f++,I=f++,A=f++,P=f++,R=f++,S=f++,L=f++,N=f++,q=f++,U=1,z=2,D=4,G=8,F=16,V=32,H=64,B=255,$=B&~(U|z|V|G|D),Z=B&~(U|G|F|H),J=!1,W=!1,Q={"block-comment":T,"line-comment":T,preprocessor:E},K=f=["ident","stmt","stmtlist","struct","function","functionargs","decl","decllist","forloop","whileloop","if","expr","precision","comment","preprocessor","keyword","keyword_or_ident","return","break","continue","discard","do-while","placeholder","quantifier"]},{"../../through":47,"./expr":40,"./scope":42}],42:[function(t,n,e){function r(t){return this.constructor!==r?new r(t):(this.state=t,this.scopes=[],void(this.current=null))}n.exports=r;var i=r,o=i.prototype;o.enter=function(t){this.scopes.push(this.current=this.state[0].scope=t||{})},o.exit=function(){this.scopes.pop(),this.current=this.scopes[this.scopes.length-1]},o.define=function(t){this.current[t]=this.state[0]},o.find=function(t,n){for(var e=this.scopes.length-1;e>-1;--e)if(this.scopes[e].hasOwnProperty(t))return this.scopes[e][t];return null}},{}],43:[function(t,n,e){function r(){function t(t){t.length&&N.queue({type:k[z],data:t,position:F,line:G})}function n(t){for(q=0,B+=t.toString(),L=B.length;R=B[q],L>q;)switch(z){case c:q=C();break;case h:q=O();break;case p:q=M();break;case f:q=T();break;case d:q=I();break;case x:q=j();break;case g:q=A();break;case l:q=P();break;case _:q=w();break;case a:q=r()}U+=q,B=B.slice(q)}function e(n){D.length&&t(D.join("")),z=b,t("(eof)"),N.queue(null)}function r(){return D=D.length?[]:D,"/"===S&&"*"===R?(F=U+q-1,z=c,S=R,q+1):"/"===S&&"/"===R?(F=U+q-1,z=h,S=R,q+1):"#"===R?(z=p,F=U+q,q):/\s/.test(R)?(z=_,F=U+q,q):(V=/\d/.test(R),H=/[^\w_]/.test(R),F=U+q,z=V?d:H?f:l,q)}function w(){return"\n"===R&&++G,/[^\s]/g.test(R)?(t(D.join("")),z=a,q):(D.push(R),S=R,q+1)}function M(){return"\n"===R&&++G,"\n"===R&&"\\"!==S?(t(D.join("")),z=a,q):(D.push(R),S=R,q+1)}function O(){return M()}function C(){return"/"===R&&"*"===S?(D.push(R),t(D.join("")),z=a,q+1):("\n"===R&&++G,D.push(R),S=R,q+1)}function T(){if("."===S&&/\d/.test(R))return z=g,q;if("/"===S&&"*"===R)return z=c,q;if("/"===S&&"/"===R)return z=h,q;if("."===R&&D.length){for(;E(D););return z=g,q}if(";"===R){if(D.length)for(;E(D););return t(R),z=a,q+1}var n=2===D.length&&"="!==R;if(/[\w_\d\s]/.test(R)||n){for(;E(D););return z=a,q}return D.push(R),S=R,q+1}function E(n){for(var e,r=0,i=n.length;;){e=u.indexOf(n.slice(0,n.length+r).join(""));{if(-1!==e)return t(u[e]),F+=u[e].length,D=D.slice(u[e].length),D.length;if(r-=1,i-=1,0>i)return 0}}}function j(){return/[^a-fA-F0-9]/.test(R)?(t(D.join("")),z=a,q):(D.push(R),S=R,q+1)}function I(){return"."===R?(D.push(R),z=g,S=R,q+1):/[eE]/.test(R)?(D.push(R),z=g,S=R,q+1):"x"===R&&1===D.length&&"0"===D[0]?(z=x,D.push(R),S=R,q+1):/[^\d]/.test(R)?(t(D.join("")),z=a,q):(D.push(R),S=R,q+1)}function A(){return"f"===R&&(D.push(R),S=R,q+=1),/[eE]/.test(R)?(D.push(R),S=R,q+1):/[^\d]/.test(R)?(t(D.join("")),z=a,q):(D.push(R),S=R,q+1)}function P(){if(/[^\d\w_]/.test(R)){var n=D.join("");return z=o.indexOf(n)>-1?y:s.indexOf(n)>-1?v:m,t(D.join("")),z=a,q}return D.push(R),S=R,q+1}var R,S,L,N=i(n,e),q=0,U=0,z=a,D=[],G=1,F=0,V=!1,H=!1,B="";return N}n.exports=r;var i=t("../through"),o=t("./lib/literals"),u=t("./lib/operators"),s=t("./lib/builtins"),a=999,l=9999,c=0,h=1,p=2,f=3,d=4,g=5,m=6,v=7,y=8,_=9,b=10,x=11,k=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"../through":47,"./lib/builtins":44,"./lib/literals":45,"./lib/operators":46}],44:[function(t,n,e){n.exports=["gl_Position","gl_PointSize","gl_ClipVertex","gl_FragCoord","gl_FrontFacing","gl_FragColor","gl_FragData","gl_FragDepth","gl_Color","gl_SecondaryColor","gl_Normal","gl_Vertex","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_FogCoord","gl_MaxLights","gl_MaxClipPlanes","gl_MaxTextureUnits","gl_MaxTextureCoords","gl_MaxVertexAttribs","gl_MaxVertexUniformComponents","gl_MaxVaryingFloats","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformComponents","gl_MaxDrawBuffers","gl_ModelViewMatrix","gl_ProjectionMatrix","gl_ModelViewProjectionMatrix","gl_TextureMatrix","gl_NormalMatrix","gl_ModelViewMatrixInverse","gl_ProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverse","gl_TextureMatrixInverse","gl_ModelViewMatrixTranspose","gl_ProjectionMatrixTranspose","gl_ModelViewProjectionMatrixTranspose","gl_TextureMatrixTranspose","gl_ModelViewMatrixInverseTranspose","gl_ProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixInverseTranspose","gl_TextureMatrixInverseTranspose","gl_NormalScale","gl_DepthRangeParameters","gl_DepthRange","gl_ClipPlane","gl_PointParameters","gl_Point","gl_MaterialParameters","gl_FrontMaterial","gl_BackMaterial","gl_LightSourceParameters","gl_LightSource","gl_LightModelParameters","gl_LightModel","gl_LightModelProducts","gl_FrontLightModelProduct","gl_BackLightModelProduct","gl_LightProducts","gl_FrontLightProduct","gl_BackLightProduct","gl_FogParameters","gl_Fog","gl_TextureEnvColor","gl_EyePlaneS","gl_EyePlaneT","gl_EyePlaneR","gl_EyePlaneQ","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_ObjectPlaneR","gl_ObjectPlaneQ","gl_FrontColor","gl_BackColor","gl_FrontSecondaryColor","gl_BackSecondaryColor","gl_TexCoord","gl_FogFragCoord","gl_Color","gl_SecondaryColor","gl_TexCoord","gl_FogFragCoord","gl_PointCoord","radians","degrees","sin","cos","tan","asin","acos","atan","pow","exp","log","exp2","log2","sqrt","inversesqrt","abs","sign","floor","ceil","fract","mod","min","max","clamp","mix","step","smoothstep","length","distance","dot","cross","normalize","faceforward","reflect","refract","matrixCompMult","lessThan","lessThanEqual","greaterThan","greaterThanEqual","equal","notEqual","any","all","not","texture2D","texture2DProj","texture2DLod","texture2DProjLod","textureCube","textureCubeLod"]},{}],45:[function(t,n,e){n.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],46:[function(t,n,e){n.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],47:[function(t,n,e){var r;r=function(t,n){var e,r;return r=[],e=[],{output:r,parser:null,write:t,end:n,process:function(n,e){return this.parser=n,t(e),this.flush(),this.parser.flush()},flush:function(){return n(),[r,e]},queue:function(t){var n;return null!=t&&null!=(n=this.parser)?n.write(t):void 0},emit:function(t,n){return"data"===t&&null==n.parent&&r.push(n),"error"===t?e.push(n):void 0}}},n.exports=r},{}]},{},[28]);